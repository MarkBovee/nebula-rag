<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nebula RAG Control Deck</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Manrope:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/app.css" />
</head>
<body>
  <div class="bg-grid"></div>
  <div class="nebula-aura aura-1"></div>
  <div class="nebula-aura aura-2"></div>

  <main class="shell">
    <header class="hero reveal">
      <p class="eyebrow">HOME ASSISTANT ADD-ON</p>
      <h1>Nebula RAG Control Deck</h1>
      <p class="sub">Query, index, and manage your Nebula knowledge constellation directly from Home Assistant.</p>
    </header>

    <section class="cards">
      <article class="card reveal stagger-1">
        <h2>Health + Stats</h2>
        <div class="button-row">
          <button id="btn-health">Run Health Check</button>
          <button id="btn-stats" class="ghost">Refresh Stats</button>
        </div>
        <pre id="health-output" class="output"></pre>
        <pre id="stats-output" class="output"></pre>
      </article>

      <article class="card reveal stagger-2">
        <h2>Query</h2>
        <label for="query-text">Question</label>
        <textarea id="query-text" rows="4" placeholder="How is indexing configured?"></textarea>
        <label for="query-limit">Limit</label>
        <input id="query-limit" type="number" value="5" min="1" max="20" />
        <button id="btn-query">Run Query</button>
        <pre id="query-output" class="output"></pre>
      </article>

      <article class="card reveal stagger-3">
        <h2>Index + Sources</h2>
        <label for="index-path">Source Path</label>
        <input id="index-path" type="text" value="/share" />
        <div class="button-row">
          <button id="btn-index">Index Path</button>
          <button id="btn-sources" class="ghost">Load Sources</button>
        </div>
        <pre id="index-output" class="output"></pre>
        <pre id="sources-output" class="output"></pre>
      </article>

      <article class="card danger reveal stagger-4">
        <h2>Danger Zone</h2>
        <label for="delete-path">Delete Source Path</label>
        <input id="delete-path" type="text" placeholder="/share/docs/file.md" />
        <button id="btn-delete" class="warn">Delete Source</button>

        <label for="purge-confirm">Confirm Purge Phrase</label>
        <input id="purge-confirm" type="text" placeholder="PURGE ALL" />
        <button id="btn-purge" class="warn">Purge Entire Index</button>
        <pre id="danger-output" class="output"></pre>
      </article>
    </section>
  </main>

  <script src="/app.js" defer></script>
</body>
</html>
